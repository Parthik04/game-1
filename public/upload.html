<!DOCTYPE html>
<html lang="en">

<head>
    <title>Upload</title>
</head>

<body>
    <form id="myForm" method="post" enctype="multipart/form-data" onsubmit="handleSubmit(event)">
        <input type="text" name="caption">
        <br>
        <input type="file" name="image">
        <br>
        <button type="submit">Submit File</button>
    </form>


    <script>
        function handleSubmit(event) {
            event.preventDefault();
            const TheForm = event.target;
            const formData = new FormData(TheForm);

            fetch('/api/upload', {
                method: 'POST',
                body: formData,
            })
                .then(response => response.json())
                .then(json => console.log(json));
            // .catch(error => console.log(error));
        }
    </script>
</body>

</html>